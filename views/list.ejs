<%- include ("partials/header.ejs") %>

<div id="heading" class="box">
    <h1><%= listTitle %></h1>
</div>

<div class="box">
    <% items.forEach((item) => { %>
    <form action="/delete" method="post">
        <div class="item">
            <input type="checkbox" name="delete" value="<%= item._id %>" onChange="this.form.submit()">
            <p><%= item.name %></p>
        </div>
        <input type="hidden" name="listName" value="<%= listTitle %>">
    </form>
    <% }) %>

    <form class="item" action="/" method="post">
        <input type="text" name="todoItem" placeholder="Add New Item..." autocomplete="off">
        <button type="submit" name="list" value="<%= listTitle %>">+</button>
    </form>
</div>

<script>
    document.querySelector(".item input[type='text']").focus();
</script>

<%- include ("partials/footer.ejs") %>